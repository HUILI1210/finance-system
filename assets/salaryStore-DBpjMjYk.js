import{G as d,H as R}from"./index-Cc0-Jhr3.js";const v=[{id:"1",name:"张三",employeeNo:"EMP001",department:"技术部",position:"高级工程师",entryDate:"2022-03-15",phone:"13800138001",email:"zhangsan@company.com",bankAccount:"6222021234567890123",bankName:"工商银行",status:"active"},{id:"2",name:"李四",employeeNo:"EMP002",department:"市场部",position:"市场经理",entryDate:"2021-06-01",phone:"13800138002",email:"lisi@company.com",bankAccount:"6222021234567890124",bankName:"建设银行",status:"active"},{id:"3",name:"王五",employeeNo:"EMP003",department:"财务部",position:"财务专员",entryDate:"2023-01-10",phone:"13800138003",email:"wangwu@company.com",bankAccount:"6222021234567890125",bankName:"农业银行",status:"active"},{id:"4",name:"赵六",employeeNo:"EMP004",department:"技术部",position:"初级工程师",entryDate:"2023-08-20",phone:"13800138004",email:"zhaoliu@company.com",bankAccount:"6222021234567890126",bankName:"中国银行",status:"active"}],S=[{id:"1",employeeId:"1",baseSalary:15e3,positionAllowance:3e3,performanceBonus:2e3,socialInsurance:1800,housingFund:1500,effectiveDate:"2024-01-01"},{id:"2",employeeId:"2",baseSalary:12e3,positionAllowance:2500,performanceBonus:3e3,socialInsurance:1500,housingFund:1200,effectiveDate:"2024-01-01"},{id:"3",employeeId:"3",baseSalary:8e3,positionAllowance:1e3,performanceBonus:1e3,socialInsurance:900,housingFund:800,effectiveDate:"2024-01-01"},{id:"4",employeeId:"4",baseSalary:6e3,positionAllowance:500,performanceBonus:500,socialInsurance:600,housingFund:500,effectiveDate:"2024-01-01"}],h=[{id:"1",name:"标准月薪制",type:"fixed",description:"适用于行政、财务等固定薪资岗位",baseSalary:8e3,positionAllowance:1e3,hourlyRate:0,overtimeRate:1.5,pieceRate:0,commissionBase:0,commissionRates:[],performanceRatios:[{level:"A",ratio:1.2},{level:"B",ratio:1},{level:"C",ratio:.8}],socialInsuranceRate:10,housingFundRate:8,isActive:!0},{id:"2",name:"技术岗绩效制",type:"mixed",description:"底薪+绩效，适用于技术部门",baseSalary:12e3,positionAllowance:2e3,hourlyRate:100,overtimeRate:1.5,pieceRate:0,commissionBase:0,commissionRates:[],performanceRatios:[{level:"A",ratio:1.5},{level:"B",ratio:1.2},{level:"C",ratio:1},{level:"D",ratio:.8}],socialInsuranceRate:10,housingFundRate:12,isActive:!0},{id:"3",name:"销售提成制",type:"commission",description:"底薪+阶梯提成，适用于销售部门",baseSalary:5e3,positionAllowance:500,hourlyRate:0,overtimeRate:1,pieceRate:0,commissionBase:5e3,commissionRates:[{min:0,max:5e4,rate:3},{min:5e4,max:1e5,rate:5},{min:1e5,max:999999999,rate:8}],performanceRatios:[],socialInsuranceRate:10,housingFundRate:8,isActive:!0},{id:"4",name:"生产计件制",type:"piece",description:"按件计酬，适用于生产线员工",baseSalary:2e3,positionAllowance:0,hourlyRate:0,overtimeRate:1,pieceRate:15,commissionBase:0,commissionRates:[],performanceRatios:[],socialInsuranceRate:10,housingFundRate:5,isActive:!0},{id:"5",name:"临时计时制",type:"hourly",description:"按小时计酬，适用于临时工、兼职",baseSalary:0,positionAllowance:0,hourlyRate:50,overtimeRate:1.5,pieceRate:0,commissionBase:0,commissionRates:[],performanceRatios:[],socialInsuranceRate:0,housingFundRate:0,isActive:!0}],b=[{id:"1",employeeId:"1",employeeName:"张三",department:"技术部",month:"2024-01",formulaType:"mixed",baseSalary:15e3,positionAllowance:3e3,performanceBonus:2e3,overtime:500,deductions:0,socialInsurance:1800,housingFund:1500,tax:1200,grossSalary:20500,netSalary:16e3,status:"paid",paidDate:"2024-02-05"},{id:"2",employeeId:"2",employeeName:"李四",department:"市场部",month:"2024-01",formulaType:"commission",baseSalary:5e3,positionAllowance:500,performanceBonus:0,overtime:0,salesAmount:8e4,commission:4e3,deductions:200,socialInsurance:950,housingFund:760,tax:300,grossSalary:9500,netSalary:7290,status:"paid",paidDate:"2024-02-05"},{id:"3",employeeId:"3",employeeName:"王五",department:"财务部",month:"2024-01",formulaType:"fixed",baseSalary:8e3,positionAllowance:1e3,performanceBonus:1e3,overtime:200,deductions:0,socialInsurance:900,housingFund:800,tax:300,grossSalary:10200,netSalary:8200,status:"paid",paidDate:"2024-02-05"},{id:"4",employeeId:"4",employeeName:"赵六",department:"技术部",month:"2024-01",formulaType:"mixed",baseSalary:6e3,positionAllowance:500,performanceBonus:500,overtime:300,deductions:100,socialInsurance:600,housingFund:500,tax:100,grossSalary:7300,netSalary:6e3,status:"paid",paidDate:"2024-02-05"}];function F(a,o){var p,u;const e={};let t="";const i=o.baseSalaryOverride||a.baseSalary;switch(e.基本工资=i,a.type){case"fixed":if(e.岗位津贴=a.positionAllowance,o.performanceLevel){const s=((p=a.performanceRatios.find(m=>m.level===o.performanceLevel))==null?void 0:p.ratio)||1;e.绩效奖金=Math.round(i*.2*s)}t=`固定月薪: ¥${i} + 津贴: ¥${a.positionAllowance}`;break;case"hourly":const r=o.hoursWorked||0,l=o.overtimeHours||0;e.正常工时=r*a.hourlyRate,e.加班工时=l*a.hourlyRate*a.overtimeRate,t=`工时: ${r}h × ¥${a.hourlyRate} + 加班: ${l}h × ¥${a.hourlyRate} × ${a.overtimeRate}`;break;case"piece":const y=o.piecesCompleted||0;e.计件工资=y*a.pieceRate,t=`计件: ${y}件 × ¥${a.pieceRate}/件`;break;case"commission":e.底薪=a.commissionBase;const n=o.salesAmount||0;let c=0;for(const s of a.commissionRates)if(n>=s.min&&n<s.max){c=n*s.rate/100;break}e.销售提成=Math.round(c),t=`底薪: ¥${a.commissionBase} + 销售额: ¥${n} × ${c>0?(c/n*100).toFixed(1):0}%`;break;case"mixed":if(e.岗位津贴=a.positionAllowance,o.performanceLevel){const s=((u=a.performanceRatios.find(m=>m.level===o.performanceLevel))==null?void 0:u.ratio)||1;e.绩效奖金=Math.round(i*.3*s)}o.overtimeHours&&(e.加班费=o.overtimeHours*a.hourlyRate*a.overtimeRate),t=`底薪: ¥${i} + 绩效 + 加班`;break}return{grossSalary:Object.values(e).reduce((r,l)=>r+l,0),details:e,description:t}}const g=d()(R(a=>({employees:v,salaryStructures:S,payrolls:b,salaryFormulas:h,addEmployee:o=>a(e=>({employees:[...e.employees,o]})),updateEmployee:(o,e)=>a(t=>({employees:t.employees.map(i=>i.id===o?{...i,...e}:i)})),deleteEmployee:o=>a(e=>({employees:e.employees.filter(t=>t.id!==o)})),addSalaryStructure:o=>a(e=>({salaryStructures:[...e.salaryStructures,o]})),updateSalaryStructure:(o,e)=>a(t=>({salaryStructures:t.salaryStructures.map(i=>i.id===o?{...i,...e}:i)})),addPayroll:o=>a(e=>({payrolls:[...e.payrolls,o]})),updatePayroll:(o,e)=>a(t=>({payrolls:t.payrolls.map(i=>i.id===o?{...i,...e}:i)})),addSalaryFormula:o=>a(e=>({salaryFormulas:[...e.salaryFormulas,o]})),updateSalaryFormula:(o,e)=>a(t=>({salaryFormulas:t.salaryFormulas.map(i=>i.id===o?{...i,...e}:i)})),deleteSalaryFormula:o=>a(e=>({salaryFormulas:e.salaryFormulas.filter(t=>t.id!==o)}))}),{name:"salary-storage"}));export{F as c,g as u};
