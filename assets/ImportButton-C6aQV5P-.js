import{j as s,D as f,B as p,m as h,s as e,r as d,n as g}from"./index-B1irlVr5.js";import{e as j,a as m,r as C,p as y}from"./export-cwhyOQjn.js";function E({data:t,columns:o,filename:r}){const c=n=>{if(t.length===0){e.warning("没有数据可导出");return}n==="csv"?(j(t,o,r),e.success("CSV导出成功")):(m(t,r),e.success("JSON导出成功"))},a=[{key:"csv",label:"导出为CSV(Excel兼容)"},{key:"json",label:"导出为JSON"}];return s.jsx(f,{menu:{items:a,onClick:({key:n})=>c(n)},children:s.jsx(p,{icon:s.jsx(h,{}),children:"导出"})})}function R({onImport:t,accept:o=".csv"}){const r=d.useRef(null),c=()=>{var n;(n=r.current)==null||n.click()},a=async n=>{var u;const l=(u=n.target.files)==null?void 0:u[0];if(l){try{const x=await C(l),i=y(x);if(i.length===0){e.warning("文件为空或格式不正确");return}t(i),e.success(`成功导入 ${i.length} 条数据`)}catch{e.error("文件读取失败")}n.target.value=""}};return s.jsxs(s.Fragment,{children:[s.jsx("input",{ref:r,type:"file",accept:o,onChange:a,style:{display:"none"}}),s.jsx(p,{icon:s.jsx(g,{}),onClick:c,children:"导入"})]})}export{E,R as I};
